<!doctype html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8" />
        <title>CTF: DIVs em HTML</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="../style/style-ctf-div.css">
        <link rel="stylesheet" href="../style/style.css">
        <!-- FLAG #1 (inspecione o c√≥digo-fonte) -->
        <!-- IFPR{DIV-SOURCE-VIEW} -->

    </head>
    <body>
        <div class="box">
            <div class="wrap container">
                <div class="title">
                    <div class="logo" aria-hidden="true"></div>
                    <div>
                        <h1>CTF: Dominando &lt;div&gt; no HTML</h1>
                        <p class="sub">Encontre todas as flags mexendo com <b>div</b>, estilos, 
                            atributos, acessibilidade e ferramentas do dev üöÄ</p>
                    </div>
                </div>
                <div class="card">
                    <h2>Como jogar</h2>
                    <p>Existem <b>8 flags</b> no formato <b>IFPR{DIV-...}</b>. 
                        Explore a p√°gina, passe o mouse, clique, inspecione o c√≥digo, abra o console 
                        (Ctrl+Shift+I), modifique classes no DevTools‚Ä¶ 
                        Depois cole as flags no verificador.</p>
                    <div class="progress" aria-label="Progresso">
                        <div id="bar" class="bar" style="width:0%"></div>
                    </div>
                    <ul id="foundList" class="foundlist"></ul>
                    <div class="verify">
                        <input id="flagInput" type="text" placeholder="Cole a flag aqui (ex.: IFPR{DIV-HOVER-REVEAL})" autocomplete="off" />
                        <button id="btnCheck">Verificar</button>
                    </div>
                    <div id="msg" class="msg"></div>
                </div>
                <div class="grid" style="margin-top:16px">
                <div class="card step-card" id="step1">
                    <h2>Desafio 1 ‚Äî :hover + pseudo-elemento</h2>
                    <p>Passe o mouse sobre a caixa para revelar texto gerado por <code>::after</code>.</p>
                    <div class="hoverbox">Passe o mouse aqui</div>
                </div>
                <div class="card step-card" id="step2">
                    <h2>Desafio 2 ‚Äî :target com √¢ncora</h2>
                    <p>Clique no link para ‚Äúabrir‚Äù um <code>&lt;div id="secreto"&gt;</code> escondido via CSS.</p>
                    <p><a href="#secreto">Abrir #secreto</a> ‚Ä¢ <a href="#">Fechar</a></p>
                    <div id="secreto">Div secreto aberto via <code>:target</code> ‚úÖ</div>
                </div>
                <div class="card step-card" id="step3">
                    <h2>Desafio 3 ‚Äî Vari√°vel CSS vinda do inline style</h2>
                    <p>Este bloco usa <code>content: var(--flag)</code> via CSS. A ‚Äúflag‚Äù √© injetada por um <code>style</code> no pr√≥prio <code>div</code>.</p>
                    <div class="cssvar" style="--flag:'IFPR{DIV-CSS-VAR}'"></div>
                </div>
                <div class="card step-card" id="step4">
                    <h2>Desafio 4 ‚Äî Box model e tiles de &lt;div&gt;</h2>
                    <p>Passe o mouse nas pe√ßas‚Ä¶ uma delas tem um ‚Äúsegredo‚Äù.</p>
                    <div class="tiles">
                    <div class="tile"></div>
                    <div class="tile flaghint" title="ü§´"></div>
                    <div class="tile"></div>
                    <div class="tile"></div>
                    <div class="tile"></div>
                    <div class="tile"></div>
                    </div>
                </div>
                <div class="card step-card" id="step5">
                    <h2>Desafio 5 ‚Äî Div ‚Äúbot√£o‚Äù acess√≠vel</h2>
                    <p>Um <code>&lt;div&gt;</code> com <code>role="button"</code> e <code>tabindex="0"</code> pode ser acionado com Enter/Espa√ßo. Ele guarda uma flag em um <code>data-*</code>.</p>
                    <div id="a11yBtn"
                        class="btnlike"
                        role="button"
                        aria-label="Mostrar flag do data-attribute"
                        tabindex="0"
                        data-flag="IFPR{DIV-DATA-ATTRIBUTE}">
                    Pressione Enter ou Espa√ßo
                    </div>
                    <p class="hint">Dica: d√° pra achar no DevTools tamb√©m üòâ</p>
                </div>
                <div class="card step-card" id="step6">
                    <h2>Desafio 6 ‚Äî Console + clique no bloco</h2>
                    <p>Clique no bloco para ‚Äúlogar‚Äù algo no console do navegador.</p>
                    <div id="debugBox" class="debug">Clique aqui e abra o console</div>
                    <p class="hint">Console: Ctrl+Shift+I ‚Üí aba ‚ÄúConsole‚Äù.</p>
                </div>
                <div class="card step-card" id="step7">
                    <h2>Desafio 7 ‚Äî ROT13 dentro de um &lt;div&gt;</h2>
                    <p>Decodifique o texto deste <code>div</code> (ROT13) para encontrar a flag.</p>
                    <div id="rot13" class="pzl" data-rot="VSC E{QVI-EBG13-QRPBQRQ}">
                        <h3>Mensagem:</h3>
                        <div style="font-family:monospace; background:#0f1131; border:1px solid #2a2c5b; padding:8px; border-radius:8px">
                        VSC E{QVI-EBG13-QRPBQRQ}
                        </div>
                        <p class="hint">Dica: selecione, copie e use um decodificador ROT13‚Ä¶ ou escreva um JS r√°pido üòâ</p>
                    </div>
                </div>
                    <div class="card step-card" id="step8">
                        <h2>Desafio 8 ‚Äî Poder das classes</h2>
                        <p>Alguns estilos s√≥ ‚Äúaparecem‚Äù quando uma classe espec√≠fica est√° presente. Adicione a classe <code>win</code> ao <code>.container</code> (este cont√™iner gigante da p√°gina) via DevTools.</p>
                        <div class="win-badge">Estado atual: sem ‚Äúwin‚Äù</div>
                        <p class="hint">No Elements/Inspector: clique em <code>&lt;div class="wrap container"&gt;</code> e edite a classe ‚Üí <code>wrap container win</code>.</p>
                    </div>
                </div>
                <div class="card" style="margin-top:16px">
                    <h2>Flags encontradas (persistem no navegador)</h2>
                    <p>As flags v√°lidas ficam salvas no <code>localStorage</code> deste dom√≠nio.</p>
                </div>
                <!-- CARD FINAL: aparece quando todas as flags forem encontradas -->
                <!-- CARD FINAL: Google Forms -->
                <div id="finishCard" class="card" style="margin-top:16px">
                    <h2>Finaliza√ß√£o üéâ</h2>
                    <p class="hint">Parab√©ns! Voc√™ encontrou todas as flags. Envie seu nickname para registrar a conclus√£o.</p>

                    <form id="finishForm"
                            action="https://docs.google.com/forms/d/e/1FAIpQLSdRk46DBB5sIki-aVF58wNvMlQQTORHd4KYjio8lKYd52t3MA/formResponse"
                            method="post"
                            target="hidden_gform">

                        <label for="nickname">Nickname</label>
                        <input id="nickname"
                            name="entry.1582078614"
                            type="text"
                            placeholder="ex.: inf3-aluna-joana"
                            required
                            style="margin:.4rem 0 0.6rem; width:100%; background:#0f1131; border:1px solid #34386f; color:#fff; padding:.6rem .7rem; border-radius:10px;">
                        <label for="email">E-mail</label>

                        <input id="email"
                            name="entry.1682951554"
                            type="email"
                            placeholder="seuemail@exemplo.com"
                            required
                            style="margin:.4rem 0 0.6rem; width:100%;
                                    background:#0f1131; border:1px solid #34386f;
                                    color:#fff; padding:.6rem .7rem; border-radius:10px;">

                        <!-- Campos ocultos preenchidos via JS -->
                        <input type="hidden" id="totalFlags" name="entry.1820780495">
                        <textarea id="flagsField" name="entry.293899559" hidden></textarea>
                        <input type="hidden" id="completedAt" name="entry.1526192225" hidden>
                        <button type="submit">Enviar confirma√ß√£o</button>
                        <div class="mini">O envio √© feito diretamente para o Google Forms (sem sair da p√°gina).</div>
                    </form>

                    <!-- Iframe oculto para evitar redirecionar a p√°gina ao enviar -->
                    <iframe name="hidden_gform" style="display:none;"></iframe>
                    <div id="finishThanks">‚úÖ Registro enviado! Voc√™ pode fechar esta p√°gina.</div>
            </div>
            
            <div class="back-link" style="margin-top: 30px;">
                <a href="../index.html">
                    ‚¨Ö Voltar ao Menu
                </a>
            </div>
        </div>
        <script type="module" src="../script/ctf-div.js"></script>
    </body>
</html>
